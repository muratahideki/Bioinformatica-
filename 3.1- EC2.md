## Enviar arquivos para a instância 

A Cloud usada foi a AWS, foi criado uma instância no EC2:
  - Ubuntu 4.2
  - 50 Gb
  - r5.xlarge

### 1) Envio do computador local para nuvem 

- Precisa enviar o arquivo do genoma completo
- as anotações do genoma 
- Os arquivos paired-end depois do trimming

```bash
scp -i bio.pem nome-do-arquivo ubuntu@<ip-publico>:/home/ubuntu/
```

### 2) indexação do arquivo 
- Ativar a chave

```bash
chmod 400 "nome-da-chava"
```

- acessar a instância pelo terminal:

```bash
ssh -i "bio.pem" ubuntu@54.80.83.58
```
- indexação:
(precisa estar descompactado o arquivo)
```bash
hisat2-build -p 4 SofficinarumxspontaneumR570_771_v2.0.softmasked.fa indice
```
- Alinhamento:

```bash
hisat2 -p 4 -x indice -1 SRR1344797_1_trimmed.fastq.gz -2 SRR1344797_2_trimmed.fastq.gz -S saida.sam
```

Dica para gerar o bam sem salvar o arquivo sam que é intermediário

```bash
hisat2 -p 4 -x indice -1 amostra_R1.fastq -2 amostra_R2.fastq | samtools view -bS - > alinhamento.bam
```


- baixar o arquivo
```bash
scp -i bio.pem ubuntu@107.22.110.132:/home/ubuntu/saida.sam .
```
  
